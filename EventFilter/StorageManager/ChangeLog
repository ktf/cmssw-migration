2009-10-17 William Tanenbaum <wmtan@fnal.gov>

	* tag V08-11-00
	* Adapt HTTP sources to changes in StreamerInputSource base class

2012-10-17 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-10-02
	* Fix accounting of files in case that the file cannot be open
	* Discard EoLS signals when there are no streams, i.e. if not
	  processing events

2012-10-04 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-10-01
	* Fix linking in case that code is compiled w/o optimization
	* Update the demoSystem documentation

2012-06-08 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-10-00
	* Add configuration switch 'careAboutUnwantedEvents' (default
	  true). If set to false, the SM will not monitor and alarm the
	  number of events dropped.

2012-04-23 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-09-00
	* Add reconnect method for event server (from Srecko).
	* Use EPs instead of FUs on SM hyperdaq page.

2012-04-20 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-08-00
	* More efficient handling of INIT messages.
	* Handle case that INIT messages are sent by the master EP and
	  not from the slaves. I.e. the number of init messages may be
	  less than the number of EPs sending events.
	* Add unit test for DiskWriter thread

2012-03-28 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-07-00
	* Cleanup unit tests and convert all to cppunit tests
	* Update package documentation

2011-11-18 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-06-01
	* Convert CurlInterface into a singleton and setup handlers for SSL locks.
	* Add a data flow summary table to the main SM hyperdaq page and
	  move the I2O fragment monitoring on a separate page.

2011-11-14 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-05-03
	* Address a couple of gcc 4.6 compiler warnings.

2011-11-08 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-05-02
	* Use a separate thread for calls to statfs. This protects the
 	  main thread from possible hangs on statfs.
	* Reorganize a bit the handling of alarms to improve the unit tests.

2011-09-02 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-05-01
	* From Luis: fill total amount of dropped events into monitor
	  element instead of the differential count.

2011-08-31 William Tanenbaum <wmtan@fnal.gov>

	* tag V08-05-00
	* Move FragKey struct from otherwise unused IOPool/Streamer/HLTInfo into
	  the EventFilter/StorageManager package.

2011-11-16 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-04-04
	* Convert CurlInterface into a singleton and setup handlers for SSL locks.

2011-11-08 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-04-03-01
	* Minimal change wrt V08-04-03 for handling statfs hangs
	  (c.f. tag V08-05-02)

2011-09-02 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-04-03
	* From Luis: fill total amount of dropped events into monitor
	  element instead of the differential count.

2011-08-22 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-04-02
	* Reshuffle some code to avoid dependency on SMProxy header.

2011-07-27 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-04-01
	* Adjust unit tests to changed interface of InitMsgBuilder of
	  IOPool/Streamer V07-03-00.

2011-09-02 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-04-00-01
	* From Luis: fill total amount of dropped events into monitor
	  element instead of the differential count.

2011-07-07 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-04-00
	* Move Adler32 checksum into FileRecord struct and display it on the hyperdaq page.
	* Add option 'checkAdler32' to check Adler32 checksum of closed file to match
	  to the one calculated on the fly (by default off).
	* Resurrect the playback system for running over existing streamer files.

2011-07-05 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-03-03
	* Better way to book merge count and dropped event counts from Luis I. Lopera.

2011-07-04 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-03-02
	* Put merge count and dropped event counts into dedicated subdirectory
	  '/SM_SMPS_Stats' instead of root (or some random directory).

2011-06-21 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-03-01
	* Use local struct instead of relying on MonitoredQuantities for EoR record.

2011-06-20 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-03-00
	* Report lastLumi in EoR as last LS for which a EoLS entry was written,
	  not the last LS the SM knows about. Also flag the EoLS records if they
	  are based on an EoLS signal from the EVM or not.
	* Remove summaryCatalog which is essentially unused and tends to get
	  too large over time.

2011-06-01 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-02-04
	* Fix reporting of latest lumi section in case that the last EoLS signal
	  received is from an earlier LS.

011-05-27 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-02-03
	* Disable xhtmlmaker multithread test, which still fails.

2011-05-24 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-02-02
	* Correct the number of connected EPs by the number of error events,
	  i.e. the number of EPs which got restarted.
	* Convert xhtmlmaker_t.cpp into a proper CPPUNIT test.

2011-05-18 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-02-01
	* Use latest lumi section seen either in data or from last EoLS signal
	  in EoR record.
	* Don't print SATAbeast username/password in error string.
	* Add ifdef'd debug code to generate corrupted events.

2011-04-21 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-02-00
	* Fixed ROOT TThread handling from tag V07-03-06 (branch_3_10_x).
	* Merge changes from tags V07-03-04, V07-04-00, and V07-04-01
	  (branch_3_10_x) into trunk.
	* Safer handling of stream records in SM hyperdaq page.

2011-04-07 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-01-01
	* Improve handling of droppedEventsCount.
	* Merge fixes from tags V07-03-01, V07-03-02 and V07-03-03 (branch_3_10_x)
	  into trunk.

2011-04-04 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-01-00
	* Merge changes from tag V07-02-01 and V07-03-00 (branch_3_10_x) into trunk.
	* Move EventServerProxy template specialization from EventStreamHttpReader
	  to EventServerProxy.
	* Fully implement mergeCount and droppedEventsCount for DQM histograms and
	  data events, respectively.

2011-03-30 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V08-00-00
	* Merge the new SM as of tag V07-02-00 (branch_3_10_x)
	  into trunk.
	* This tag requires IOPool/Streamer V07-01-00 or later.

2011-04-21 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V07-04-01
	* Reset latest LS seen for DQM message at run stop.

2011-04-20 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V07-04-00
	* Discard DQM updates older than 16 LS. This number is configurable with
	  'discardDQMUpdatesForOlderLS'. Setting it to 0 will disable the feature.
	* Don't raise unwantedEvents alarm on first occurrence.
	* Fix reporting of number of copy/inject workers in case that this number
	  has not been determined.

2011-04-18 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V07-03-06
	* Hopefully correct way to cancel the ROOT TThread.
	* Back port a couple of changes from trunk:
	  - Improved accounting of dropped events in ConcurrentQueue
	  - Safer handling of stream records in SM hyperdaq page
	  - Remove consumerPriority from demoSystem config files
	* Remove logging of state changes.

2011-04-13 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V07-03-05
	* Remove log message when resizing info-space vectors.
	* Log state changes to help with debugging the stopping failures.

2011-04-08 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V07-03-04
	* Show total number of complete DQM updates, not average.
	* Only resize info-space vectors when actually needed. Warn when doing so.

2011-04-07 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V07-03-03
	* Fix unit tests for modified DiscardManager.

2011-04-07 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V07-03-02
	* A couple of minor fixes.

2011-04-06 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V07-03-01
	* Create our own pool for discard messages instead of piggy-backing on the one
	  from ATCP. Various minor improvements in DiscardManager and FUProxy.
	* Add '--track-origins=yes' to valgrind options.

2011-04-04 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V07-03-00
	* Raise sentinel alarm if we get more DQM top level folder updates than
	  we expect. Keep statistics about number of complete updates.

2011-03-30 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V07-02-01
	* Take DQM event time stamp from event instead of recreating it wrongly.

2011-03-30 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V07-02-00
	* Configurable limit on memory consumption of the fragment store.
	* Limit queue and fragment store memory consumption to 1GB
	  for each entity.

2011-03-29 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V07-01-03
	* Protect static method in DQMHttpSource with static mutex
	* Switch from xdaq::workloop to a ROOT TThread in DQMEventStore
	  in order to enable the ROOT thread safety.
	* Really use UTC for time comparison test to avoid issues with DST.

2011-03-28 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V07-01-02
	* Fix error message in case of wrong run number in DQM events.

2011-03-23 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V07-01-01
	* Reduced memory footprint for init messages from V06-07-03.
	* Improved locking logic for DQM event store.
	* Not starting the DQM event store work-loop for non-DQM consumers.

2011-03-10 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V07-01-00
	* Add Srecko's option 'dropOldLumisectionEvents' to EventStreamHttpReader.

2011-03-09 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V07-00-01
	* Re-add 'discardedDQMEvents' quantity to infospace.
	* A couple of minor adjustments.

2011-03-07 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V07-00-00
	* Complete rework of event server part (from SMPSdev_branch)
	* Conform to CMSSW naming conventions.
	* Major cleanup of code and old files.

2011-02-17 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-08-00
	* Minimal changes wrt V06-07-02 for modified
	  IOPool/Streamer V07-01-00

2011-03-22 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-07-03
	* Don't store all unique init msg ever received.
	  It's enough to keep the ones from the current run keyed to output module.

2011-02-02 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-07-02
	* Fix missing update of 'stateName' in the infospaces.

2011-01-14 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-07-01
	* Add missing mapping of consumer to queue id for shared queues.

2010-12-21 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-07-00
	* Add new boolean parameter 'uniqueEvents' for event consumers. If it is set to
	  'true', the queue might be shared with other event consumers requesting the
	  same events and queue type. This allows multiple consumers to get unique
	  events. Otherwise, the same event might be served to multiple consumers.
	* Assure that the same event cannot be selected multiple times for the same
	  stream/queue. This was ascertained by construction of the consumer registration,
	  but might be less reliable with the new scheme.
	* Introduce new unsigned int parameter 'prescale' for event consumers. It allows
	  consumers to specify a prescale. The default is 1, i.e. no prescale.
	* Keep track of number of discarded (dropped) events for each event consumer.
	* Add and improve several unit-tests to test the new features.

2010-12-15 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-06-01
	* More type fixes to make 32 bit & 64 bit Linux, as well as Mac OS X happy.

2010-12-15 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-06-00
	* Use boost::posix_time::time_duration instead of integer seconds
	  for ConcurrentQueue timed_wait methods.
	* Use boost::posix_time instead of double for time related quantities.
	* Average the throughput quantities over the last 10 s (configurable
	  by setting 'throuphputAveragingCycles'). The actual averaging time is
	  reported in the new infospace variable 'averagingTime'.
	* Remove obsolete infospace quantities 'bandwithToDisk' (not typo) and
	  'staleChains' (replaced with 'faultyEvents').
	* Avoid parsing unused parameters from the SM stream configuration.
	* Fix a couple of integer precision issues for 64-bit.

2010-12-03 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-05-01
	* Fix detection of CVS version string.

2010-12-03 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-05-00
	* Rework SM hyperdaq page: add time stamp and hostname to banner, use
	  absolute time in throughput monitoring page, bring consumer statistics
	  page in line with other pages.
	* Replace a couple of size()==0 calls with empty().

2010-12-01 William Tanenbaum <wmtan@fnal.gov>

	* tag V06-04-09
	* Fix for -Wtype-limits compiler warning due to unsigned__0 comparisons,
	  which always evaluate to true. Fix also streamlines the relevant code
	  by using std::string.find() and std::string::rfind() rather than
	  unnecessary and error prone loops in TriggerSelector.

2010-12-01 Giulio Eulisse <Giulio.Eulisse@cern.ch>

	* tag V06-04-08
	* Remove unneeded edm::RootAutoLibraryLoader::enable() call from constructor.
	* Modifications to fix compilation issues on Mac OS X.

2010-11-22 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-04-07
	* Increase queue expiration interval to avoid spurious unit-test failures.

2010-11-05 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-04-06
	* Fix calculation of maxFileSize in bytes when going beyond 2 GB.

2010-11-04 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-04-05
	* Use unsigned long long consistently when checking file sizes in bytes.
	  Fixes the file size check when file sizes exceed 2 GB.

2010-11-03 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-04-04
	* Make processCount unit tests more reliable
	* Disable time-sensitive unit test ConcurrentQueue_t for automatic unit tests.

2010-10-19 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-04-03
	* Minor fixes for c++0x.

2010-10-15 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-04-02
	* Make unit-tests more reliable and fix path issues when
	  running them with 'scram b runtests'.

2010-10-11 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-04-01
	* Add LastLumi to EoR record.

2010-09-28 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-04-00
	* No longer write and handle index files.
	  Requires IOPool/Streamer V07-00-00 or newer.

2010-11-05 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-03-05
	* Fix calculation of maxFileSize in bytes when going beyond 2 GB.

2010-11-04 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-03-04
	* Merge unit-test fixes from trunk into branch_3_8_x

2010-11-04 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-03-03
	* Use unsigned long long consistently when checking file sizes in bytes.
	  Fixes the file size check when file sizes exceed 2 GB.

2010-10-06 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-03-02
	* Add LastLumi to EoR record.

2010-09-28 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-03-01
	* Use faster Adler32 algorithm from zlib instead of f/w version.
	* Inline a couple of methods in ChainData.
	* Properly handle corrupted error events when faulty event stream is enabled.

2010-09-09 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-03-00
	* Handle error streamer files as other streamers, i.e. open a
	  new file for each LS and close it when receiving the EoLS signal
	  or passing the normal timeout. This requires that the actual LS
	  is encoded also in error events, which is done from
	  EventFilter/ShmBuffer V00-08-05 tag onwards.
	* Fix monitoring of number of lumi sections and EoLS signals.

2010-09-02 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-02-08
	* EoLS msg from EVM does not have an initial header as other SM msg do.
	  Thus, reset this faulty bit in order to not discard the EoLS msg.

2010-08-23 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-02-07
	* Do not leave the /proc file handle open when checking
	  for master processes.

2010-08-23 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-02-06
	* Incomplete/wrong tag. Do not use!

2010-08-06 William Tanenbaum <wmtan@fnal.gov>

	* tag V06-02-05
	* Remove improper using directives in headers and add namespace
	  qualifiers, typedefs, or proper using directives.
	* Convert BuildFiles to XML

2010-07-20 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-02-04
	* When counting processes, only consider master processes,
	  i.e. those with PPID 1.

2010-07-01 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-02-03
	* Exclude scripts directory from tag as it uses Perl modules
	  not available in CMSSW.

2010-06-25 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-02-02
	* Add hostname and instance number to BoR, EoR, and LS entries in
	  the db log file. (Merge from V05-10-03 branch tag.)

2010-06-24 Peter Elmer <Peter.Elmer@cern.ch>

	* tag V06-02-01
	* Add missing <stdint.h> include, required for gcc45

2010-06-03 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-02-00
	* Use uint32_t consistently.
	* Add number of received data and error events to info space.
	* Fix FU configuration for demoSystem.

2010-05-12 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-01-00
	* Improve handling of corrupt I2O messages and events with wrong
	  Adler32 checksums
	* Add optional stream for events which are marked faulty by the
	  StorageManager. If the parameter 'faultyEventsStream' (string)
	  is set, each event is written into a separate file. If the event
	  header is not corrupt, the event is written as normal data file,
	  i.e. it includes the correct INIT message. If the header is
	  corrupt, the data is dumped as is into a file. In the latter
	  case the run number is derived from the configuration and the
	  lumi section number is 0 (invalid).
	* Fixed a potential race condition when displaying file list
	  on hyperdaq page.
	* Expanded CurlInterface to request binary messages.
	* Adjustments to demoSystem scripts and configurations. The
	  demoSystem uses now 2 slave EPs with autorestart enabled.
	  Thus, the setting is closer to what is used in the production
	  system.

2010-05-03 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-00-02
	* Fix bookkeeping of outstanding discard counts in case of
	  faulty/stale events.
	* Remove demoSystem setups and code for ancient xdaq releases.

2010-05-02 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-00-01
	* Remove include for no longer existing OnlineHttpReader.h.

2010-04-30 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V06-00-00
	* Check Adler32 checksum for the data blob in init, event,
	  and DQM event messages to match the one calculated in the EPs.
	  This requires the new IOPool/Streamer data format.
	* First round of refactoring of the consumer handling code to
	  make it usable for the SM proxy server.

2010-08-24 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-10-05
	* Backport fix for /proc file handler to branch_3_5_x.

2010-07-20 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-10-04
	* When counting processes, only consider master processes,
	  i.e. those with PPID 1.

2010-06-25 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-10-03
	* Add hostname and instance number to BoR, EoR, and LS entries in
	  the db log file.

2010-04-28 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-10-02
	* When checking for directory existence, check that the
	  directory is writable for the user, too.
	* Throw exception is db log file cannot be appended.

2010-04-13 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-10-01
	* Use the thread safe version localtime_r instead of localtime which
	  uses a static struct internally.

2010-04-12 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-10-00
	* Make the db log file path configurable (still defaults to
	  filePath+"/log").
	* Add db log file path to the disks to be monitored.
	* Add a 'failHighWaterMark' configuration parameter (default 95%).
	  If any of the disks not listed in 'otherDiskPaths' is going beyond
	  this disk usage (in %), the SM will go into Failed state.
	* Use disk usage in % rather than fractional part for 'highWaterMark'.
	* Fix order of configuration of ResourceMonitorCollection to assure
	  that the correct alarm parameters are set before disks are checked.

2010-04-13 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-09-03
	* Use the thread safe version localtime_r instead of localtime which
	  uses a static struct internally.
	* Fix order of configuration of ResourceMonitorCollection to assure
	  that the correct alarm parameters are set before disks are checked.

2010-04-06 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-09-02
	* Use the same time object for file timestamps in database log file
	  and for the file name.
	* Add simple unit test for time retrieval and time stamp generation.
	* Lump unwanted event alarms by output module, i.e. do not
	  generate an alarm for each trigger bit combination.
	* Increase default DQM event queue limit to 3072 entries.

2010-03-25 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-09-01
	* Use local ofstream to assure that it is destroyed after each use.
	* Explicitly clear the file counter per luminosity section map when
	  streams are destroyed.
	* Add a missing lock on the stream records.

2010-03-16 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-09-00
	* Add files per luminosity section bookkeeping information to the
	  database log file to be used by tier 0 to decide on repacking.
	* Print output module name in addition to id for unwanted event
	  alarm message.

2010-03-21 Peter Elmer <Peter.Elmer@cern.ch>

	* tag V05-08-09
	* Add missing #include <stdint.h>, flagged (and required) by gcc443

2010-03-16 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-08-08
	* Serve DQM updates in time-order, i.e. do not let a newer
	  update overtake an older one.
	* Make expectedUpdates configurable for SM proxy.
	* Fill correct values for processed and discarded DQM events
	  in infospace.

2010-03-08 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-08-07
	* Drop updateNumber from DQMKey, i.e. all updates for a given
	  run/luminosity section are lumped together.
	* Clear DQMEventQueue at run stop (DrainingQueues state) instead
	  of waiting until all histograms have been summed up.
	* Minor speed-ups in DQMInstance
	* Increase default DQMEventQueue size from 882 to 1000.

2010-03-06 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-08-06
	* Reduce DQMEventQueue size from 3072 to 882, i.e. to the number of
	  events for one luminosity section update.

2010-03-06 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-08-05
	* Remove debug output for histogram collection.
	* Fix handling of multi-fragment DQM event messages.

2010-03-04 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-08-04
	* Fix logic when all expected DQM histograms for a given LS have been
	  received from the EPs.
	* Re-factor and optimize code in DQMInstance.
	* Add missing lock in StreamsMonitorCollection.
	* Add temporary debug output for histogram collection.

2010-03-02 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-08-03
 	* Allow to configure the maximum memory usage of objects in the queues.
 	* Fix a few bugs in ConcurrentQueue to handle edge cases correctly.
	* Only send alarm for numberOfCopyWorkers if the value is less than
	  the expected count. Requested by Gerry.
	* Reduce recent integration interval from 300 to 30 seconds for
	  StreamsMonitorCollection. Requested by HLT guys.

2010-03-01 William Tanenbaum <wmtan@fnal.gov>

	* tag V05-08-02
	* No change with respect to V05-08-01-01. Fixed violation of tagging
	  guidelines by using four field tags.

2010-02-25 William Tanenbaum <wmtan@fnal.gov>

	* tag V05-08-01-01
	* Convert to current macros from deprecated ones for plugins

2010-02-18 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-08-01
	* Provide Adler32 checksum for FRD (error) event streams, too.
	  Requires IOPool/Streamer V05-08-06 or newer.
	* Fix for uninitialized variable in TriggerSelector.
	* Discard oldest DQM events if DQM event queue fills up
	  instead of newest ones.
	* Keep track of number of discarded DQM events.

2010-02-17 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-08-00
	* Send alarms instead of sentinel messages for event not used by
	  anybody and for a too high rate of error events (default 10Hz).
	  This is only enabled if 'isProductionSystem' is true (default false).
	* Keep track of memory allocated to objects in ConcurrentQueues
	  and fragment store; shown on ThroughputMonitor hyperdaq page.
	* ConcurrentQueues allow to limit memory usage, but not use yet.
	* Avoid creation of StreamHandlers for streams with fractionToDisk=0.
	* Show fractionToDisk parameter on StreamRecord hypderdaq page.
	* Clear all sentinel alarms at run-start.
	* Minor cleanup in types to improve consistency in 64bit builds.

2010-02-01 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-07-00
	* Rework logic of moving files to closed position in case that a
	  file cannot be moved and further improve error messages
	* Replace 'exactFileSizeTest' configuration parameter with
	  'fileSizeTolerance' (double) specifying the tolerance of file
	  sizes. It defaults to 0.1 which was previously hard coded.
	  Setting it to 0 corresponds to setting 'exactFileSizeTest' to
	  true (default was false)
	* Latch error message if we move to the Failed state. I.e.
	  always show on the hyperdaq page the actual error message which
	  caused the SM to fail

2010-01-27 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-06-02
	* Disable file size check which does not work reliable for very
	  small files
	* Improve error reporting on file operations

2010-01-27 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-06-01
	* Add stat64 errno to error message if file size cannot be retrieved

2010-01-22 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-06-00
	* Add configuration parameter 'isProductionSystem' (default false).
	  This disables checks for disks defined in 'otherDiskPaths', attempts
	  to connect to the SATA controller, and disables any alarms for
	  unconsumed events or unexpected number of running Copy/InjectWorkers
	* Expanded checks for number of running Copy/InjectWorkers to take into
	  account the arguments and user names of the processes

2010-01-11 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-05-00
	* Remove no-longer used configuration parameters
	  (pushMode2Proxy, maxESEventRate, maxESDataRate, idleConsumerTimeout
	   fairShareES, DQMmaxESEventRate, DQMidleConsumerTimeout,
	   esSelectedHLTOutputModule)
	* Remove obsolete 'progressMarker'
	* Additional monitoring quantities for event rate/bandwidth
	  per output stream
	* Sentinel alarm for physics events neither written to a stream nor
	  requested by consumers
	* Use EoLS signal to close files for completed lumi sections
	* Introduce a finer grained event selection allowing for and/not
	  combination of triggers in a given HLT path when using the
	  'TriggerSelector' parameter
	* Implement new HLT configuration parameter 'fractionToDisk' specifying
	  the fraction of events written for the given stream
	* Protect against NULL pointers returned from the edm::StreamDQMDeserializer.
	  This problem originates from scalar types in DQM tree which no longer
	  inherit from TObject (DQMServices/Core V03-13-00 and later)
	* Update and integrate the play-back system

2009-12-31 William Tanenbaum <wmtan@fnal.gov>

	* tag V05-04-05
	* Use new accessor to ModuleDescription instead of now private data member

2009-12-27 Peter Elmer <Peter.Elmer@cern.ch>

	* tag V05-04-04
	* Add missing <cstdio> include, required for gcc4.4

2009-12-18 William Tanenbaum <wmtan@fnal.gov>

	* tag V05-04-03
	* beginJob migration from beginJob(const EventSetup_) to beginJob()

2009-12-11 William Tanenbaum <wmtan@fnal.gov>

	* tag V05-04-02
	* Remove unused EventID from DQMHttpSource

2009-11-13 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-04-01
	* Use latest version of test/ResourceMonitorCollection_t.cpp
	* Remove large eps files from doc directory

2009-11-05 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-04-00
	* Merge changes from branch_3_3_X into trunk
	* Modify DQMHttpSource for changed API in latest DQMServices/Core

2009-11-04 Peter Elmer <Peter.Elmer@cern.ch>

	* tag V05-03-05
	* Add missing <cstring>, required for new boost(/python/xerces) version

2009-10-30 William Tanenbaum <wmtan@fnal.gov>

	* tag V05-03-04
	* Add missing includes for
	  FWCore/Utilities/interface/EDMException.h

2009-10-22 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-03-03
	* Merge changes from V05-02-04 into branch_3_3_X

2009-10-16 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-03-02
	* Merge changes from V05-02-03 into branch_3_3_X

2009-10-13 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-03-01
	* Merge changes from V05-02-01 and V05-02-02 into branch_3_3_X

2009-09-25 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-03-00
	* Merge changes from V05-02-00 into branch_3_3_X
	* Fix a couple of issues for gcc4/amd64

2009-11-05 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-02-05
	* Remove stray EndLumiSectMsgData.cc from branch_3_2_X.

2009-10-22 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-02-04
	* Add new state Constructed which is entered when the state
	  machine is initiated. The Constructed state is identical to
	  the Halted state, except that it does not send the state
	  notification to run control. The Constructed state cannot be
	  re-entered once the it was left. Instead the Halted state is used.
	* Accept the end-of-lumi-section I2O message if compiled against
	  a sufficiently new xdaq release (>= 10.0). Does not do anything
	  with it yet.

2009-10-16 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-02-03
	* Fix sub-second sleep duration
	* Fix bug in filling the disk-space usages vector in the info space
	* Backport fixes for gcc4/amd64 from branch_3_3_X

2009-10-13 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-02-02
	* Remove default setting for sataUser. This disables the check for
	  the SATA controller.

2009-10-06 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-02-01
	* Send sentinel notifications via AlarmHandler instead of Notifier.
	* Send notifications rather than alarms for single occurrences, i.e.
	  for issues for which we do not need extended periods of visibility.
	* Do not send a SATA disk-controller alarm if the sataUser is not
	  configured.
	* Add stateName to application info space to allow run control to
	  display the current state after initialization.
	* Split large implementation file for I2OChain into separate files
	  for the internal ChainData classes.

2009-09-25 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-02-00
	* Accept EmergencyStop FSM SOAP message
	* Increased number of monitoring parameters exported to the info space.
	* Improved monitoring and add sentinel alarms for disks: status of SATA
	  beasts and configuration option to check other disks, e.g. the look-area
	  and ECAL calibration area.
	* Added sentinel alarms for number of copy/inject workers, as well as
	  for skipped discards and stale I2O chains
	* Expanded web pages for consumers and throughput statistics
	* Variable update intervals for monitoring collections
	* Expanded logging/alarming in case of rare problems
	* DQM histograms are pushed as soon as all EPs which sent an INIT
	  message also have sent their histograms
	* Preparation for closing files when receiving an end-of-lumi-section signal
	* File closing in DiskWriter made explicit to avoid throwing exceptions in
	  the FileHandler destructor
	* Various code improvements and fixes
	* Streamlined scripts for demoSystem, initial integration of playback system

2009-09-14 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-01-08
	* Couple of fixes for 64-bit built (slc4_amd64_gcc432)

2009-09-11 Peter Elmer <Peter.Elmer@cern.ch>

	* tag V05-01-07
	* Add explicit declaration of several operator<<'s within the
	  stor::namespace in .h files to match the implementations in the .cc.
	  (They were declared as friend within the class definition, but that
	  isn't the same thing.) Without this change (or some analogous one)
	  the code would not compile with gcc4.3.

2009-09-03 William Tanenbaum <wmtan@fnal.gov>

	* tag V05-01-06
	* Changes needed to reuse EventPrincipals

2009-08-25 W. David Dagenhart <wdd@fnal.gov>

	* tag V05-01-05
	* FWCore/ParameterSet was split into ParameterSet and PythonParameterSet

2009-08-19 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-01-04
	* Added protection in the EventConsumerSelector and EventStreamSelector
	  against throwing initialize() calls

2009-07-25 William Tanenbaum <wmtan@fnal.gov>

	* tag V05-01-03
	* GetReleaseVersion.h was moved from FWCore/Utilities to FWCore/Version

2009-07-21 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-01-02
	* Fix a couple of issues due to obsolete code removal
	* Minor adjustements to doxygen class documentation

2009-07-20 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-01-01
	* Fix logic of file-system selection
	* Increase displayed precision of data rate popped from the DQM queue
	* Complete doxygen class documentation
	* Remove obsolete code

2009-07-13 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-01-00
	* Properly respond to state-machine SOAP commands and move
	  to Failed state if a SOAP message cannot be handled.
	* Change ownership of monitoring info space and handle all info
	  space related stuff in StatisticsReporter instead of using a
	  static monitoring info space in the MonitoredQuantities.
	* Move sentinel alarming to Utils and fix bug revoking an alarm.
	* Display reason for moving to failed state on the SM web pages.
	* Additional column with potential fix for disk writer thread busy
	  percentage.
	* Minor changes to align state machine transitions with state
	  charts.
	* Fix bug such that first consumerID is 1, not 2.

2009-07-06 Dennis Shpakov <Denis.Shpakov@cern.ch>

	* tag V05-00-09
	* Protect state-machine entry and exit action to not throw.
	  This should fix the std::bad_cast bug.
	* Introduce configurable time-out for closing error-event files.
	* Improve monitoring of discard messages (display outstanding
	  discards and keep track of discards per EP, not only per RB).

2009-06-29 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-00-08
	* Ugly hack to prevent the std::bad_cast bug to cause error
	  messages being sent every millisecond.
	* Remove no-longer needed pre-processor directives to avoid
	  sentinel reporting in the demoSystem. (Sentinel was added
	  to the demoSystem with tag V05-00-04.)

2009-06-29 Dennis Shpakov <Denis.Shpakov@cern.ch>

	* tag V05-00-07
	* Introduce stale window time to measure time an
	  event sits in the FragmentStore, not counting
	  any previous queueing time.
	* Monitor number of discards, stale events, and skipped discards.
	* Fix bug where state events were checked 99% of the time instead of 1%.
	* Increase stream queue size from 512 to 2048 entries.

2009-06-21 Dennis Shpakov <Denis.Shpakov@cern.ch>

	* tag V05-00-06
	* Assure that the constructor of StorageManager only
	  throws xcept::exceptions.
	* Improve consumer monitoring web page
	* Make sure that all stale file handles are purged
	* Increase DQM event queue size from 2048 to 3072 and
	  ThroughputMonitorCollection history from 150 to 300 entries.
	* Switch to use python configs only in the demoSystem.

2009-06-18 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-00-05
	* Added a protection in the Ready entry action when the
	  configuration cannot update the parameters
	* Fixed an iterator overrun in StreamHandler when deleting
	  FileHandlers from the list of open files.

2009-06-15 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-00-04
	* Fixed to not revoke a disk-space alarm in ResourceMonitorCollection
	  which is not set.
	* Added the Sentinel to the SM process in the demoSystem setup.

2009-06-12 Remi Mommsen <Remigius.Mommsen@cern.ch>

	* tag V05-00-03
	* Explicitly link with sentinelutils.

2009-06-10 Dennis Shpakov <Denis.Shpakov@cern.ch>

	* tag V05-00-02
	* Added include of cstdio for sprintf calls
	  in case it is needed for gcc4.4.

2009-06-10 Dennis Shpakov <Denis.Shpakov@cern.ch>

	* tag V05-00-01
	* Merge of refactored code from refdev01_scratch_branch
	  to the trunk.

2009-06-10 Dennis Shpakov <Denis.Shpakov@cern.ch>

	* tag V05-00-00
	* Final release candidate on the refdev01_scratch_branch.

2009-06-08  Kurt Biery <biery@fnal.gov>

	* tag V04-02-07
	* Script changes from Constantin.

2009-??-??  ?? <??>

	* tag V04-02-06
	* Include file changes from Peter Elmer for gcc4.4.

2009-??-??  ?? <??>

	* tag V04-02-05
	* From Bill Tanenbaum:  changed @trigger_paths parameter from
	  untracked to tracked in ServiceManager.

2009-03-??  Kurt Biery <biery@fnal.gov>

	* tag V04-02-04
	* From David Dagenhard:  Added option that causes the Framework
	  statemachine to behave as if there is one event per input file
	  and go through new input file transitions before each event.
	  The purpose is to allow the output module to close output files
	  at any point. There is a restriction that output modules are allowed
	  to close output files and open new ones only when a new input file
	  is encountered.  This option is available to all streamer sources,
	  but is by default off except for the EventStreamHttpReader source.
	  This code change has no effect when the option turned off.  The
	  overhead introduced by the Framework itself is small, although it
	  will emit signals for the respondToOpenInputFile and
	  respondToCloseInputFile to modules which could potentially use
	  CPU or have other side effects.

2009-01-27  Kurt Biery <biery@fnal.gov>

	* tag V04-02-03
	* Modified the sending of event consumer registration requests
	  to work around the recent change in edm::ParameterSet to only
	  serialize tracked parameters.

2008-12-29  Kurt Biery <biery@fnal.gov>

	* tag V04-02-02
	* Brought forward the additional DQM statistics from Harry.

2008-12-22  Kurt Biery <biery@fnal.gov>

	* tag V04-02-01
	* Fixed the ChangeLog.

2008-12-22  Kurt Biery <biery@fnal.gov>

	* tag V04-02-00
	* Moved the collection of INIT message fragments from the
	  SMFUSender* classes to the FragmentCollector.
	* Improved fragment collection - allowed fragments out of order,
	  checked for duplicate fragments, checked for incomplete events.
	* Modified the DQM archive filenames to better match the format
	  used by the online consumers.
	* Added support for reconfigurations between runs.
	* Brought forward the additional event statistics from Harry.
	* Included the fix for the spurious discard messages sent to the
	  resource broker.
	* Converted the SM to use Python configuration files, and added
	  sample Python configuration files to test subdirectory.

2008-11-21  Kurt Biery <biery@fnal.gov>

	* tag V04-01-01
	* Added a necessary call to the state machine findRcmsStateListener
	  method in StorageManager.cc after the RCMS parameters are added
	  to the application infospace.

2008-11-26  Peter Elmer <Peter.Elmer@cern.ch>

	* tag V04-01-00-01
	* Removed Foundation/SealBase dependence in test area BuildFile.

2008-10-24  Constantin Loizides <loizides@mit.edu>

	* tag V04-01-00
	* Added calculation of adler32 checksums for streamer and
	  index files, and storage of them in the log files.
	* These changes depend on the following related tags:
	  IOPool/Streamer            V05-05-00

2008-10-22  Constantin Loizides <loizides@mit.edu>

	* tag V04-00-02
	* (CL) Fixed loop over logical disks on SM default web page.
	* (KB) Modified the writing of DQM histograms to disk - all
	  top-level folders are now written to the same file (for a
	  given update), and the directory structure was modified to
	  match what is used in DQM archives created by event consumers.

2008-10-14  Kurt Biery <biery@fnal.gov>

	* tag V04-00-01
	* Added protection to the actionPerformed() method to prevent
	  uninitialized members being referenced in the Halted state.
	  These changes depend on the same related tags as V04-00-00.

2008-10-14  Kurt Biery <biery@fnal.gov>

	* tag V04-00-00
	* Initial changes to support unique filter unit IDs.  Fixed a couple
	  of minor bugs in the FragmentCollector uncovered by running the
	  RunCollector_t unit test.  Updated the RunCollector_t unit test to
	  get it working again.  These changes depend on the following related tags:
	  EventFilter/Utilities      V00-15-00
	  EventFilter/ShmBuffer      V00-07-00
	  EventFilter/ShmReader      V01-03-00
	  EventFilter/ResourceBroker V00-11-00
	  IOPool/Streamer            V05-04-00
	  EventFilter/Modules        V00-06-00

2008-10-13  Harry Cheung <cheung@fnal.gov>

	* tag V03-14-19
	* Install performance statistics for stored data rates like for
	  received data rates. Changed the stored volume infospace variable
	  to actually give the stored volume and not the received data volume.

2008-10-12  Harry Cheung <cheung@fnal.gov>

	* tag V03-14-18
	* Changed SMPerformanceMeter to use Kurt's counter classes and also
	  introduce a rate over a time period as well as a rate over a
	  given number of samples. Both are now given and the samples and
	  time period can be set in the SM XML xdaq config file (see sm_onenode.xml)
	  Also getting  and reporting statistics for received event sizes 
	  using a new counter class, still need to get the compression ratio
	  and fragment queue size when statistics gathering is moved to 
	  the FragmentCollector

2008-10-09  Kurt Biery <biery@fnal.gov>

	* tag V03-14-17
	* Added rcmsStateListener parameters to the SM application infospace
	  as requested by Hannes to support large configurations in the online.
	  Also, modified the sequence of operations at end run to correctly
	  assign file and event count statistics. This tag requires
	  EventFilter/Utilities V00-14-16.

2008-09-23  Kurt Biery <biery@fnal.gov>

	* tag V03-14-16
	* Reduced the number of copies of INIT messages kept in memory.
	  This should eliminate the out-of-memory crashes that we have
	  observed when testing with large numbers of filter units and
	  a large HLT configuration. (Crashes were seen when the RBSender
	  web page was visited and when multiple runs were started without
	  intervening destroy/configure transitions.)

2008-09-20  Kurt Biery <biery@fnal.gov>

	* tag V03-14-15
	* Added protection against NULL registry data pointers in 
	  StorageManager::receiveRegistryMessage().  Added clearing of the
	  SMFUSenderList in the enabling() method of StorageManager.
	  These changes will hopefully reduce or eliminate the occasional
	  crashes of the SM at the beginning of runs.

2008-09-16  Kurt Biery <biery@fnal.gov>

	* tag V03-14-14
	* Modified the INIT message handling in SMFUSenderEntry to handle
	  multiple INIT messages from the same RB.  Re-enabled the RBSender
	  web page.  Added partial fixes for the storedEvents problem at 
	  end run.  Added support for gracefully handling duplicate event
	  numbers when running with multiple AutoBUs.

2008-09-04  Kurt Biery <biery@fnal.gov>

	* tag V03-14-12
	* Modified the file closing logic so that it periodically tests whether files
	  need to be closed independent of whether events are being received or not.

2008-09-03  Harry Cheung <cheung@fnal.gov>

	* tag V03-14-11
	* Put in Emilio's fix for his workloop code when in failed state
	* Change the value of the real default for the file closing timeout to 45s

2008-09-02  Harry Cheung <cheung@fnal.gov>

	* tag V03-14-10
	* Possible fix for problem seen with running more FU instances
	  by properly taking into account non-unique fuID, need proper
	  fix when moving INIT message to FragmentCollector

2008-09-01  Harry Cheung <cheung@fnal.gov>

	* tag V03-14-09
	* Temporary solution for stored events statistics, gathered in workloop instead
	  and also removed temporarily the RB senders web page link that was causing
	  problems until we can reproduce it in a test setup

2008-08-27  Kurt Biery <biery@fnal.gov>

	* tag V03-14-08
	* Added variable reinitialization to the ServiceManager::stop() method.
	  With this change and a fix to clear the contents of the InitMsgCollection
	  in StorageManager::enabling(), hopefully the SM will correctly handle
	  Stop/Enable transitions (with regard to output file handling).

2008-08-22  Kurt Biery <biery@fnal.gov>

	* tag V03-14-07
	* Fixed bug in looping over output files.

2008-08-22  Constantin Loizides <loizides@mit.edu>

	* tag V03-14-06
	* Rolled back the algorithm for closing files - it only depends on
	  a time interval with this change - there is no dependence on lumi
	  section number.

2008-08-18  Kurt Biery <biery@fnal.gov>

	* tag V03-14-03
	* Flashlist fixes: Uncommented fireItemAvailable of storedEvents in
	  StorageManager.cc for Constantin/Emilio. Updated forgotten conversion
	  of connectedFUs to connectedRBs in test/sm.flash.

2008-08-17  Harry Cheung <cheung@fnal.gov>

	* tag V03-14-02
	* Fix for handling large INIT message (multiple I2O frames).

2008-08-14  Constantin Loizides <loizides@mit.edu>

	* tag V03-14-01
	* Script changes.
	* Fix to lumi file closing and minor change to Error stream handling.

2008-08-13  Kurt Biery <biery@fnal.gov>

	* tag V03-14-00
	* Added the Error stream.  This included converting the StreamService and
	  OutputService classes into interfaces and creating derived classes for
	  handling regular events and FRDEvents (FED Raw Data Events) [which is a
	  more generic name for Error events].  This change depends on
	  IOPool/Streamer V05-02-00.

2008-08-13  William Tanenbaum <wmtan@fnal.gov>

	* tag V03-13-00
	* Bug fix for a repacker problem. Due to the data dictionaries being loaded
	  too late, the repacker writes the raw data fully split, rather than unsplit,
	  as was specified in the dictionary.  This is not a critcal problem in that
	  the number of extra branches due to the splitting is small.  Nonetheless,
	  this fix should be picked up in 2_1_X, although it is not critical for 2_1_3.

2008-08-13  Kurt Biery <biery@fnal.gov>

	* tag V03-12-16
	* Backed out recent RB Sender web page changes until we've had a chance
	  to test them more.
	* Modified the use of the XDAQ Chrono class in SMPerformanceMeter to help
	  avoid negative statistics on monitor web pages.

2008-08-07  Constantin Loizides <loizides@mit.edu>

	* tag V03-12-15
	* Fixes a flaw/bug in the way the lumi-section timeout is handled. 
	  Following the suggestion by Kurt the following is enforced:
	   1. The first flaw is that the LumiSectionTimeout is enforced against
	      the time that the last event arrived for LumiSection N instead of
	      the time of the arrival of the first event in LumiSection N+1.
	   2. The second flaw is that each stream keeps track of its own
	      starting point for the timeout rather than using a common value.
	  This is implemented by a modified version of
	  StreamService::closeTimedOutFiles() which is called by
	  ServiceManager::ManageEventMessage() for each stream.

2008-07-19  William Tanenbaum <wmtan@fnal.gov>

	* tag V03-12-14
	* Critical fix for Streamer.  The streamer has not been kept up to date with
	  changes in the format of metadata, so it was not saving all of the metadata,
	  in particular, the Parameterset registry, Module Description registry,
	  EventHistory registry, and EntryDescription registry.  With this change, the
	  first two are saved in the header, while the data from the latter two are saved
	  not as registries, but event by event.

2008-07-17  Harry Cheung <cheung@fnal.gov>

	* tag V03-12-13
	* Fixes from KB for scalar MEs (ints, floats, strings):  correctly determine ME
	  name; switched to using first instance when collating rather than last instance.

2008-07-03  Kurt Biery <biery@fnal.gov>

	* tag V03-12-12
	* Updated DQMHttpSource to take advantage of RawInputSource changes
	  (to correctly set the run and lumi numbers).
	* Removed unneeded TApplication attributed from DQMServiceManager.
	* Various (minor?) script changes from Constantin.

2008-06-25  Kurt Biery <biery@fnal.gov>

	* tag V03-12-11
	* Fixed bugs in DQM histogram serving and archiving.
	* Added archiveIntervalDQM configuration parameter to control how often
	  we archive DQM histograms (once every N lumi sections, where
	  archiveIntervalDQM = N).
	* Slightly modified format of DQM archive filenames.

2008-06-23 Constantin Loizides <loizides@mit.edu>

	* tag V03-12-10
	* Bugfix to handle large files (>2GB).

2008-06-16  Kurt Biery <biery@fnal.gov>

	* tag V03-12-09
	* Cleanup of the scripts subdirectories and modification of the scripts to
	  match what was run for Cruzet2 (full blown separate DB and new DB scheme 
          handling).  [from Constantin]
	* Modification of the EventServer to match what was run in
	  Cruzet2 (fair-share off, rates limited at the EventServer input, and 
	  events for consumers restricted to a single HLT output module).

2008-06-?? Constantin Loizides <loizides@mit.edu>

	* tag V03-12-08
	* 

2008-06-03  Harry Cheung <cheung@fnal.gov>

	* tag V03-12-07
	* Quick fix for registration problem with 2 rails (threads)

2008-06-03  Harry Cheung <cheung@fnal.gov>

	* tag V03-12-06
	* Fixes from Kurt for DQM ME receiving (still has wrong run and LS numbers though)

2008-05-15  Harry Cheung <cheung@fnal.gov>

	* tag V03-12-05
	* Fix to FUSender* classes to handle multiple HLT output modules

2008-05-14  Harry Cheung <cheung@fnal.gov>

	* tag V03-12-04
	* Kurt's changes to include event server statistics by HLT output module

2008-05-14 Constantin Loizides <loizides@mit.edu>

	* tag V03-12-03
	* Moved calls to scripts outside of the Storage manager and fixed web display of
	  running Workers (script jobs)

2008-05-12  Harry Cheung <cheung@fnal.gov>

	* tag V03-12-02
	* Include a callback function to handle error events from resource broker with separate
	  I2O function code. Gave it a new ERROR_EVENT message code that requires
	  IOPool/Streamer tag hwkc20080512 (V04-34-01), this stops problems on receiving error
	  events, but the error events are not yet written out!

2008-05-11  Harry Cheung <cheung@fnal.gov>

	* tag V03-12-01
	* Report storedEvents as actually stored events and not received events. Added reporting
	  of received events for each HLT output module, and stored events for each SM stream.

2008-05-05  Harry Cheung <cheung@fnal.gov>

	* tag V03-12-00
	* Changes from Kurt for SM selecting on HLT ouptut module ID and INIT message change
	  from Streamer protocol 5 to 6

2008-04-21  Constantin Loizides <loizides@mit.edu>

	* tag V03-11-01
	* Implemented transfer to t0 with independent daemon (daemon to be written seperately).
	* General cleanup of code

2008-04-17  Harry Cheung <cheung@fnal.gov>

	* tag V03-11-00
	* Include fair share event consumer handling in event server and consumer monitoring

2008-03-10  Harry Cheung <cheung@fnal.gov>

	* tag V03-10-02
	* Changes to throw exception when a write error is encountered

2008-03-10  Emilio Meschi <emilio.meschi@cern.ch>

	* tag V03-10-01 (was tagged V03-09-07 but in Main trunk so deleted)
	* modifications to override stream maxSize from xdaq

2008-03-04  Harry Cheung <cheung@fnal.gov>

	* tag V03-10-00
	* modifications for DQM core services needed in 20X

2008-03-03  Harry Cheung <cheung@fnal.gov>

	* tag V03-09-06 
	* Remove unused variable and printout from the thread monitoring workloop
	* Enable consumers to select an SM stream by the SM streamLabel

2008-02-25  Emilio Meschi <emilio.meschi@cern.ch>

	* tag V03-09-05 
	* added monitoring workloop and related functions
	* added E->F asynchronous transition when failure detected in JobController thread
	* added data structure to hold detailed stream file info 
	* stream info and run number added to web page
	* added findStreamName utility to extract stream name from entry in filelist
	* modified StreamService to use a mutex around access to file list
	* replaced application icons

2008-02-21  Harry Cheung <cheung@fnal.gov>

	* tag V03-09-04 
	* Fixes to allow propor behavior for file sizes greater than 2GB, and to
	  make the cfg file specify the max file size in MBytes instead of bytes.

2008-02-11  Harry Cheung <cheung@fnal.gov>

	* tag V03-09-03 
	* Support for SMProxyServer as a special consumer when we have multiple
	  HLT output modules.

2008-02-02  Harry Cheung <cheung@fnal.gov>

	* tag V03-09-02 
        * New version of SMPerformanceMeterfor thread safety so SMProxyServer can
          use this for both incoming and outgoing statistics when in pull mode
        * Modified StorageManager to use this new version and test XML config to
          set SMProxyServer parameters

2008-01-30  Harry Cheung <cheung@fnal.gov>

	* tag V03-09-00 Changes to handle multiple output modules in the HLT processes

2008-01-28  Harry Cheung <cheung@fnal.gov>

	* tag V03-08-03 (Don't know what changed in V03-08-02! Probably framework changes)
	* Fix bug in DQMConsumerPipe, and using priority=PushMode for pushmode
	* Set pushmode to false in example XML config files

2007-12-12  Harry Cheung <cheung@fnal.gov>

	* tag V03-08-01 (no entries made for previous tags! Lump all changes here))
	* Updated consumer queues with real queues and changed default size
        * Handle consumers asking for non-existent trigger names
        * Add a consumer web app page for monitoring
        * Updated for framework changes

2007-10-23  Harry Cheung <cheung@fnal.gov>

	* tag V03-07-10
	* Fix of DQMInstance.cc from Billbadgett for number of digits for run and
          lumi numbers, same convention as for event data files. Also to chmod to
          DQM output root files to make them world readable.

2007-10-18  Harry Cheung <cheung@fnal.gov>

	* tag V03-07-09
	* Fixed ConsumerPipe to avoid 2 sec/event delay in pushing events to the
          SMProxyServer, and also fix intermittent hang in pushing events when
          curl tries to reuse a dead connection

2007-10-14  Harry Cheung <cheung@fnal.gov>

	* tag V03-07-08
	* Fixed StorageManager to also test the DQM archive output base path
          if we have requested DQM archiving

2007-10-14  Harry Cheung <cheung@fnal.gov>

	* tag V03-07-07
	* Fixed bug in ConsumerPipe and DQMConsumerPipe where pushEvent to the
          SMSProxyServer did not update the "lastEventRequestTime_"

2007-10-08  Harry Cheung <cheung@fnal.gov>

	* tag V03-07-06
	* Changed EventStreamHttpReader to fix a print bug and give a warning
          for when the SM was halted rather than stopped.

2007-10-08  Harry Cheung <cheung@fnal.gov>

	* tag V03-07-05
	* Changed EventStreamHttpReader to allow reconnect if the SM is down 
          (Change from Bill).

2007-09-14  Harry Cheung <cheung@fnal.gov>

	* tag V03-07-04
	* fixed EventStreamHttpReader to allow proper end of run processing, 
          and add an example to check proper behaviour. Requires
          IOPool/Streamer V04-24-00 only in the 1_7_X series.

2007-09-12  Harry Cheung <cheung@fnal.gov>

	* tag V03-07-03
	* fixed SMDQMClientExample.cc to be compatible with changes to DQM Services
          by removing use of MonitorUIRoot/MonitorUserInterface

2007-08-22  Emilio Meschi <Emilio.Meschi@cern.ch>

	* tag V03-07-02
	* fixed icon paths in application web page

2007-08-19  Harry Cheung <cheung@fnal.gov>

	* tag V03-07-01
        * Check that output base path, mailbox path, and perl script files 
          actually exist during configure action, go into fail state if
          any of these do not exist.

2007-08-18  Harry Cheung <cheung@fnal.gov>

	* tag V03-07-00
        * changes to move parameters out of streamer output modules and
          allow default values. So online parameters are in the SM XDAQ XML file
          while offline parameters have defaults and can be missing from the
          config file. The parameters common to all streams appear in the XML
          file, while each specific stay in the SM config file.
        * Change to allow the Storage Manager main thread to see the status of
          the FragmentCollector thread, and print out error messages for problems.
          Can later do cleanup and change to a fail state is desired.

2007-08-16  Harry Cheung <cheung@fnal.gov>

	* tag V03-06-00
        * changes to enter a failed state on problem with an action and
          reporting the state and reason for failure in application web page

2007-06-30  Harry Cheung <cheung@fnal.gov>

	* tag V03-04-08
        * changes for xdaq3.9

2007-06-28  Harry Cheung <cheung@fnal.gov>

	* tag V03-04-07
        * changes to scripts for communication with Tier-0 (Markus)
        * changes to cfg files in test for LNF support change in IOPool/Streamer

2007-06-19  Harry Cheung <cheung@fnal.gov>

	* tag V03-04-06
        * remove xdaq3.9 changes from the head so we can submit changes to nightly

2007-06-13  Harry Cheung <cheung@fnal.gov>

	* tag V03-04-05
        * fixes to DQM collation and archiving from Bill Badgett
	* changes to scripts arguments for communication with Tier-0 from Markus
        * fix for using DQMHttpSource with a FUEP app running EP in async

